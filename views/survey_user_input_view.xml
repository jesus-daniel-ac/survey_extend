<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="survey_user_input_view_tree_psychologist" model="ir.ui.view">
        <field name="name">survey.user_input.view.tree.psychologist</field>
        <field name="model">survey.user_input</field>
        <field name="arch" type="xml">
            <list string="Survey User inputs (Psychologist)" create="false">
                <field name="create_date"/>
                <field name="survey_id"/>
                <field name="psychologist_user_id"/>
                <field name="candidate_name"/>
                <field name="partner_id" optional="show"/>
                <field name="email" optional="show"/>
                <field name="attempts_number"/>
                <field name="deadline"/>
                <field name="test_entry" column_invisible="True"/>
                <field name="points_assit" optional="show"/>
                <field name="points_ders" optional="show"/>
                <field name="points_plutchik" optional="show"/>
                <field name="state" widget="badge"
                    decoration-success="state == 'done'"
                    decoration-info="state == 'new'"
                    decoration-warning="state == 'in_progress'"/>
            </list>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_survey_user_input_psychologist">
        <field name="name">Participaciones</field>
        <field name="res_model">survey.user_input</field>
        <field name="domain">[('survey_id.is_psychologist_survey','=',True)]</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="survey_user_input_view_tree_psychologist"/>
        <field name="context">{'search_default_survey_id': active_id, 'search_default_completed': 1}</field>
    </record>


    <!-- Form view -->
    <record id="view_survey_user_input_form_inherit_psychologist" model="ir.ui.view">
        <field name="name">survey.user_input.form.inherit.psychologist</field>
        <field name="model">survey.user_input</field>
        <field name="inherit_id" ref="survey.survey_user_input_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet/notebook" position="inside">
                <page string="Evaluaci贸n Psicol贸gica"  invisible="not is_psychologist_survey">
                    <group>
                        <group string="Candidato">
                            <field name="business_unit_id" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="candidate_name" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="candidate_age" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                        </group>
                        <group string="Psic贸logo evaluador">
                            <field name="psychologist_user_id" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="psychologist_license" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="psychologist_signature" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist" widget="signature"/>
                        </group>
                    </group>
                    <group>
                        <group string="Puntaje">
                            <field name="points_assit" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist" readonly="1"/>
                            <field name="points_ders" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist" readonly="1"/>
                            <field name="points_plutchik" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist" readonly="1"/>
                        </group>
                        <group string="Resultados">
                            <field name="risk_substance_use" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="emotional_stability_summary" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="evaluation_final_result" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                            <field name="recommendations" groups="survey.group_survey_manager,survey.group_survey_user,survey_extend.group_survey_psychologist"/>
                        </group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//field[@name='state']" position="after">
                <button name="action_print_psychological_report"
                        string="Reporte Apto Psicol贸gico"
                        type="object"
                        class="oe_highlight"/>
            </xpath>



        </field>
    </record>



    

</odoo>
